<html>
<body>
	<script type="text/javascript" src="https://raw.githubusercontent.com/jashkenas/underscore/master/underscore.js"></script>
	<script type="text/javascript" src="https://raw.githubusercontent.com/jquery/jquery/2.2.4/dist/jquery.js"></script>
	<script type="text/javascript" src="https://raw.githubusercontent.com/jashkenas/backbone/master/backbone.js"></script>
	<script type="text/javascript" src="https://raw.githubusercontent.com/backbone-cord/backbone.cord/master/dist/backbone.cord.js"></script>
	<script type="text/javascript" src="https://raw.githubusercontent.com/chjj/marked/v0.3.5/marked.min.js"></script>
	<script type="text/javascript">
	$(function() {
		var MarkdownView = Backbone.View.extend({
			el: function(h) {
				return h('',
							h('h3', 'Input'),
							h('textarea', {rows:20, cols:50, input: '_markdown'}, 'Type some *markdown* here!'),
							h('h3', 'Output'),
							h('', {innerHTML:'{_rawMarkup}'})
						);
			},
			properties: {
				markdown: {
					set: function(value) {
						this._markdown = value;
						this.rawMarkup = marked(value, {sanitize: true});
					},
					value: ''
				},
				rawMarkup: ''
			}
		});
		$(document.body).append((new MarkdownView()).el);
	});
	</script>
</body>
</html>
